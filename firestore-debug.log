Dec 18, 2022 3:06:14 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start
INFO: Started WebSocket server on ws://127.0.0.1:9150
API endpoint: http://127.0.0.1:8080
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080

Dev App Server is now running.

Dec 18, 2022 3:08:12 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:14 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 18, 2022 3:08:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:08:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:09:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:10:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:11:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:12:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:13:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:14:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:14:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:14:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:14:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:14:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:14:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:14:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:15:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:16:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:16:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:16:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:16:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:16:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:16:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:16:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:17:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:17:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:17:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:17:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:17:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:17:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:17:40 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:18:40 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:39 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 18, 2022 3:19:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:19:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:19 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 18, 2022 3:20:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:20:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:21:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:03 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:11 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:11 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:11 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 18, 2022 3:22:11 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:22:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:23:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:24:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:25:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:20 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 18, 2022 3:26:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:26:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:17 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:35 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:27:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:05 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:05 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:05 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:05 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:05 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:05 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:05 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:32 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:37 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:41 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:41 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:41 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:41 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:41 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:41 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:43 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:28:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:29:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:29:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:29:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:29:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:29:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:29:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:29:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:29:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:29:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:29:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:29:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:30:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:30:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:30:22 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
Dec 18, 2022 3:30:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:31:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:32:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:33 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:33:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:34:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:34:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:34:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:34:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:34:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:35:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:35:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:35:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:35:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:35:47 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:35:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:35:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:35:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:35:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:35:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:35:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:35:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:35:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:56 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:58 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 18, 2022 3:36:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:36:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:21 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:52 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 18, 2022 3:37:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:37:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:00 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:38:54 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 18, 2022 3:38:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:39:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:39:54 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
Dec 18, 2022 3:40:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:40:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:40:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:40:06 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:40:06 PM com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest toJSON
SEVERE: Failed to generate rules context for request
com.google.common.util.concurrent.UncheckedExecutionException: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2049)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3975)
	at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3998)
	at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4968)
	at com.google.cloud.datastore.core.auth.rules.LookupManager.lambda$addDynamicLookupFunctionsAndVariables$4(LookupManager.java:228)
	at com.google.common.base.Suppliers$NonSerializableMemoizingSupplier.get(Suppliers.java:184)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.contextAsJson(EmulatorRequest.java:97)
	at com.google.cloud.datastore.emulator.firestore.websocket.EmulatorRequest.toJSON(EmulatorRequest.java:69)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.publish(BufferingRequestListener.java:86)
	at com.google.cloud.datastore.emulator.firestore.websocket.BufferingRequestListener.afterRulesEvaluation(BufferingRequestListener.java:65)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator$1.afterPermissionEvaluation(EmulatorRuleClient.java:103)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$afterPermissionEvaluation$5(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.CompositeListener.lambda$tryInvoke$10(CompositeListener.java:118)
	at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:446)
	at com.google.firebase.rules.runtime.impl.CompositeListener.afterPermissionEvaluation(CompositeListener.java:83)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:166)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator$2.onSuccess(DefaultEvaluator.java:163)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1324)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:32)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1276)
	at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:764)
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.addListener(FluentFuture.java:122)
	at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1291)
	at com.google.firebase.rules.runtime.impl.DefaultEvaluator.evaluate(DefaultEvaluator.java:161)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRuleClient$EmulatorRuleEvaluator.evaluate(EmulatorRuleClient.java:84)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.evaluate(SinglePhaseRulesAuthorizer.java:481)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResource(SinglePhaseRulesAuthorizer.java:219)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkQueryResources(SinglePhaseRulesAuthorizer.java:194)
	at com.google.cloud.datastore.core.auth.rules.SinglePhaseRulesAuthorizer.checkAccess(SinglePhaseRulesAuthorizer.java:123)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.lambda$checkQuery$2(EmulatorRulesAuthorizer.java:191)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.withVerboseErrors(EmulatorRulesAuthorizer.java:264)
	at com.google.cloud.datastore.emulator.impl.rules.EmulatorRulesAuthorizer.checkQuery(EmulatorRulesAuthorizer.java:188)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.ruleAuthorizeAndReadEntities(CloudFirestoreV1.java:1199)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1.snapshotQuery(CloudFirestoreV1.java:1129)
	at com.google.cloud.datastore.emulator.impl.watch.ListenStreamManager.addQueryTargets(ListenStreamManager.java:120)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.addTarget(CloudFirestoreV1ListenStream.java:285)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:164)
	at com.google.cloud.datastore.emulator.impl.CloudFirestoreV1ListenStream.onNext(CloudFirestoreV1ListenStream.java:57)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:174)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.onMessage(FirestoreV1WebChannelAdapter.java:144)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)
Caused by: java.lang.NullPointerException: Cannot invoke "com.google.cloud.datastore.core.rep.Entity.propertyMap()" because "entity" is null
	at com.google.cloud.datastore.core.auth.rules.EntityToExpressionValueConverter.convert(EntityToExpressionValueConverter.java:109)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:325)
	at com.google.cloud.datastore.core.auth.rules.LookupManager$LookupCaches$1.load(LookupManager.java:319)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3541)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2276)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2153)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2043)
	... 49 more

Dec 18, 2022 3:40:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:40:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:40:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:40:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Dec 18, 2022 3:40:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
